---
title: Data-First API
description: How Kundera's data-first design enables composition and tree-shaking.
---

Kundera follows a **data-first** API design where functions take the data they operate on as the first parameter. This enables function composition, piping, and optimal tree-shaking.

## The Pattern

```typescript
import { encodeCalldata, decodeCalldata } from 'kundera/abi';

// Data-first: the ABI comes first, then the function name, then args
const { result: encoded } = encodeCalldata(abi, 'transfer', [recipient, amount]);
const { result: decoded } = decodeCalldata(abi, 'transfer', rawCalldata);

// Functions take data as input, return structured results
const { result, error } = await contract.read('balance_of', [address]);
```

## Why Data-First?

| Benefit | Description |
|---------|-------------|
| **Tree-Shaking** | Import only the functions you use |
| **Composition** | Easily pipe and compose operations |
| **Testability** | Pure functions are easy to test |
| **No Hidden State** | No global configuration or singletons |

<Warning>
## Prefer Explicit Imports

Kundera uses explicit module imports instead of method chaining. This enables better tree-shaking and makes dependencies clear.

```typescript
// Explicit imports (tree-shakeable)
import { getContract } from 'kundera/contract';
import { createClient } from 'kundera/rpc';

const client = createClient({ url: '...' });
const contract = getContract({ abi, address, client, account });

const { result } = await contract.write('transfer', [to, amount]);

// Poll for confirmation
const { result: receipt } = await client.starknet_getTransactionReceipt(
  result.transactionHash
);
```
</Warning>

## Comparison with Other Patterns

| Pattern | Example | Tree-Shakeable |
|---------|---------|----------------|
| **Data-First** (Kundera) | `encodeCalldata(data, abi)` | Yes |
| **Options-Last** | `encode(abi, data)` | Yes |
| **Method Chaining** | `abi.encode(data)` | No |
| **Class Methods** | `new Encoder(abi).encode(data)` | No |

## Related

<CardGroup cols={2}>
  <Card title="Tree-Shakeable API" icon="tree" href="/concepts/tree-shakeable-api">
    Learn how data-first enables tree-shaking.
  </Card>
  <Card title="Error Handling" icon="triangle-exclamation" href="/concepts/error-handling">
    Understand the result/error pattern.
  </Card>
</CardGroup>
