---
title: Starknet.js Comparison
description: How Kundera compares to Starknet.js.
---

A side-by-side comparison of Kundera and Starknet.js for Starknet development.

## Philosophy

| Aspect | Kundera | Starknet.js |
|--------|---------|-------------|
| Error handling | Result pattern `{ result, error }` | Exceptions |
| Type safety | Branded types, strict generics | Looser typing |
| Bundle size | Tree-shakeable, minimal | Larger footprint |
| Crypto backend | Native FFI + WASM fallback | WASM only |

## Client Setup

<CodeGroup>
```typescript Kundera
import { createClient } from 'kundera/rpc';

const client = createClient({
  url: 'https://starknet-mainnet.public.blastapi.io',
});
```

```typescript Starknet.js
import { RpcProvider } from 'starknet';

const provider = new RpcProvider({
  nodeUrl: 'https://starknet-mainnet.public.blastapi.io',
});
```
</CodeGroup>

## Account Creation

<CodeGroup>
```typescript Kundera
import { createAccount, createSigner } from 'kundera/account';

const signer = createSigner(privateKey);
const account = createAccount(client, address, signer);

// Result pattern for transactions
const { result, error } = await account.execute(calls);
if (error) {
  console.error(error.message);
}
```

```typescript Starknet.js
import { Account } from 'starknet';

const account = new Account(provider, address, privateKey);

// Exception-based error handling
try {
  const result = await account.execute(calls);
} catch (error) {
  console.error(error.message);
}
```
</CodeGroup>

## Contract Interaction

<CodeGroup>
```typescript Kundera
import { getContract } from 'kundera/contract';

const contract = getContract({
  abi,
  address: contractAddress,
  client,
  account,
});

// Read with result pattern
const { result } = await contract.read('balance_of', [address]);

// Write returns transaction hash
const { result: tx } = await contract.write('transfer', [to, amount]);
```

```typescript Starknet.js
import { Contract } from 'starknet';

const contract = new Contract(abi, contractAddress, provider);
contract.connect(account);

// Read returns value directly
const balance = await contract.balance_of(address);

// Write returns transaction result
const tx = await contract.transfer(to, amount);
```
</CodeGroup>

## Calldata Encoding

<CodeGroup>
```typescript Kundera
import { encodeCalldata } from 'kundera/abi';

// Explicit encoding with ABI
const { result: calldata } = encodeCalldata(abi, 'transfer', {
  recipient: '0x123...',
  amount: { low: 1000n, high: 0n },
});
```

```typescript Starknet.js
import { CallData } from 'starknet';

// Compile from ABI
const calldata = CallData.compile({
  recipient: '0x123...',
  amount: { low: 1000n, high: 0n },
});
```
</CodeGroup>

## Event Decoding

<CodeGroup>
```typescript Kundera
import { decodeEvents } from 'kundera/abi';

// Decode from receipt
const { result: events } = decodeEvents(receipt, abi);

for (const event of events) {
  console.log(event.name, event.args);
}
```

```typescript Starknet.js
import { parseEvents } from 'starknet';

// Parse events from receipt
const events = parseEvents(receipt, abiEvents, contractAddress);

for (const event of events) {
  console.log(event);
}
```
</CodeGroup>

## Key Differences

### Error Handling

Kundera uses the Result pattern instead of exceptions:

```typescript
// Kundera - explicit error handling
const { result, error } = await provider.getBlockNumber();
if (error) {
  // Handle specific error codes
  if (error.code === 'NETWORK_ERROR') {
    // retry logic
  }
  return;
}
console.log('Block:', result);

// Starknet.js - try/catch required
try {
  const blockNumber = await provider.getBlockNumber();
  console.log('Block:', blockNumber);
} catch (error) {
  // Parse error type manually
}
```

### Branded Types

Kundera uses branded types for compile-time safety:

```typescript
import { ContractAddress, ClassHash, Felt252 } from 'kundera/primitives';

// These are distinct types at compile time
const address: ContractAddressType = ContractAddress('0x...');
const classHash: ClassHashType = ClassHash('0x...');

// TypeScript error: can't assign address to classHash parameter
someFunction(address); // Error if function expects ClassHashType
```

### Native Crypto

Kundera prioritizes native crypto when available:

```typescript
import { isNativeAvailable, loadWasmCrypto } from 'kundera/crypto';

// Auto-selects fastest available backend
if (!isNativeAvailable()) {
  await loadWasmCrypto();
}

// Now hash functions use optimal backend
const hash = pedersenHash(a, b);
```

## Migration Guide

### From Starknet.js to Kundera

1. **Replace Provider with Client**
```typescript
// Before
import { RpcProvider } from 'starknet';
const provider = new RpcProvider({ nodeUrl: url });

// After
import { createClient } from 'kundera/rpc';
const client = createClient({ url });
```

2. **Replace Account**
```typescript
// Before
import { Account } from 'starknet';
const account = new Account(provider, address, privateKey);

// After
import { createAccount, createSigner } from 'kundera/account';
const signer = createSigner(privateKey);
const account = createAccount(client, address, signer);
```

3. **Update Error Handling**
```typescript
// Before
try {
  const result = await account.execute(calls);
} catch (e) {
  console.error(e);
}

// After
const { result, error } = await account.execute(calls);
if (error) {
  console.error(error.message);
}
```

4. **Update Contract Calls**
```typescript
// Before
const balance = await contract.balance_of(address);

// After
const { result } = await contract.read('balance_of', [address]);
const balance = result[0];
```

## When to Use Each

| Use Case | Recommendation |
|----------|----------------|
| New projects | Kundera - better type safety |
| Existing Starknet.js projects | Stay with Starknet.js unless migrating |
| Performance-critical | Kundera - native crypto support |
| Browser-only apps | Either works well |
| Server-side/Bun | Kundera - FFI bindings |

## Related

<CardGroup cols={2}>
  <Card title="Getting Started" icon="rocket" href="/getting-started/installation">
    Install Kundera.
  </Card>
  <Card title="Provider Guide" icon="plug" href="/guides/provider/setup">
    Provider setup guide.
  </Card>
</CardGroup>
