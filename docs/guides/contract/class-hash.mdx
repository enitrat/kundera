---
title: Class Hash
description: Compute Sierra and CASM class hashes.
---

Class hashes uniquely identify contract code on Starknet. Kundera provides utilities to compute hashes from compiled artifacts.

## Sierra Class Hash

Compute the class hash from a compiled Sierra contract:

```typescript
import { classHashFromSierra } from 'kundera/contract';

const sierraContract = JSON.parse(
  fs.readFileSync('target/dev/MyContract.contract_class.json', 'utf8')
);

const classHash = classHashFromSierra(sierraContract);
console.log('Class hash:', classHash);
```

## Compiled Class Hash (CASM)

Compute the compiled class hash from CASM:

```typescript
import { compiledClassHashFromCasm } from 'kundera/contract';

const casmContract = JSON.parse(
  fs.readFileSync('target/dev/MyContract.compiled_contract_class.json', 'utf8')
);

const compiledClassHash = compiledClassHashFromCasm(casmContract);
console.log('Compiled class hash:', compiledClassHash);
```

<Tip>
You need both hashes for `declare` transactions: the Sierra class hash identifies the contract, and the compiled class hash verifies the CASM.
</Tip>

## Extract ABI

Extract the ABI from a Sierra contract:

```typescript
import { extractAbi } from 'kundera/contract';

const abi = extractAbi(sierraContract);
// Use with getContract()
const contract = getContract({ abi, address, client });
```

## Declare Contract

Use computed hashes to declare a new contract class:

```typescript
import { classHashFromSierra, compiledClassHashFromCasm } from 'kundera/contract';

const sierra = JSON.parse(fs.readFileSync('MyContract.sierra.json', 'utf8'));
const casm = JSON.parse(fs.readFileSync('MyContract.casm.json', 'utf8'));

const classHash = classHashFromSierra(sierra);
const compiledClassHash = compiledClassHashFromCasm(casm);

// Declare via account
const result = await account.declare({
  contract: sierra,
  classHash,
  compiledClassHash,
});

console.log('Declared:', result.class_hash);
```

## Short String Utilities

Encode/decode Cairo short strings (≤31 bytes):

```typescript
import { encodeShortString, decodeShortString } from 'kundera/contract';

// Encode string to felt
const felt = encodeShortString('hello');
// 0x68656c6c6f

// Decode felt to string
const str = decodeShortString(0x68656c6c6fn);
// 'hello'
```

<Warning>
## 31-Byte Limit

Short strings are limited to 31 ASCII characters. For longer strings, use `ByteArray` serialization.
</Warning>

## API Reference

| Function | Input | Output |
|----------|-------|--------|
| `classHashFromSierra` | Sierra JSON | Class hash (hex string) |
| `compiledClassHashFromCasm` | CASM JSON | Compiled class hash (hex string) |
| `extractAbi` | Sierra JSON | ABI array |
| `encodeShortString` | String (≤31 chars) | Felt (bigint) |
| `decodeShortString` | Felt | String |

## Related

<CardGroup cols={2}>
  <Card title="Contract API" icon="file-contract" href="/api/contract">
    Full contract API reference.
  </Card>
  <Card title="Cairo Types" icon="cube" href="/concepts/cairo-types">
    Understanding Cairo type encoding.
  </Card>
</CardGroup>
