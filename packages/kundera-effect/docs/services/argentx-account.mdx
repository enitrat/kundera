---
title: ArgentX Account
description: ArgentX account signing with optional guardian support.
---

<Info>
Targets the latest ArgentX account version. Uses the ArgentX signature layout for INVOKE_V3.
</Info>

# ArgentX Account

`ArgentXAccount` provides an `AccountService` layer that signs invoke transactions using the
ArgentX signature format. It is compatible with `SignerService`.

## Imports

```ts
import { Effect } from "effect";
import { Services } from "kundera-effect";
```

## Create a Layer

```ts
const accountLayer = Services.Account.ArgentXAccount({
  address: "0x...",
  privateKey: "0x..."
});
```

## Optional Guardian

```ts
const accountLayer = Services.Account.ArgentXAccount({
  address: "0x...",
  privateKey: "0x...",
  guardianPrivateKey: "0x..."
});
```

## Sign an Invoke V3

```ts
const program = Effect.gen(function* () {
  const account = yield* Services.Account.AccountService;

  return yield* account.signInvokeV3({
    calls: [
      {
        contractAddress: "0x...",
        entrypoint: "transfer",
        calldata: [1n, 2n]
      }
    ],
    nonce: 0n,
    chainId: 23448594291968334n,
    resourceBounds: {
      l1_gas: { max_amount: 1_000_000n, max_price_per_unit: 1n },
      l2_gas: { max_amount: 1_000_000n, max_price_per_unit: 1n }
    }
  });
}).pipe(
  Effect.provide(accountLayer)
);
```

## Signature Layout

ArgentX signatures are emitted as an array of felts:

- Without guardian: `[1, signer_type, pubkey, r, s]`
- With guardian: `[2, signer_type, pubkey, r, s, guardian_signer_type, guardian_pubkey, r, s]`

`signer_type` defaults to `0` unless overridden via `signerType`.

## Related

<CardGroup cols={2}>
  <Card title="Account Service" icon="user-shield" href="/services/account">
    AccountService overview and other account layers.
  </Card>
  <Card title="Signer" icon="signature" href="/services/signer">
    Sign and submit invoke transactions.
  </Card>
</CardGroup>
